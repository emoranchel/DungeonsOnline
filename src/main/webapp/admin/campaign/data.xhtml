<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <c:set var="title" value="Battle Data"/>
  <ui:composition template="/WEB-INF/templates/admin-template.xhtml">
    <ui:define name="navigation">
      <ul>
        <li>Campaign | <h:link outcome="/admin/combat/data" value="Battle"/>
          <ul>
            <li><h:link outcome="/admin/campaign/characters" value="Characters"/></li>
            <li>Powers</li>
            <li>Equipment</li>
            <li>Data</li>
          </ul>
        </li>
      </ul>
    </ui:define>
    <ui:define name="resources">
    </ui:define>
    <ui:define name="content">
      <h:form>
        <h1>Ability Scores</h1>
        <h2>Characters</h2>
        <h:commandButton action="${adminCampaign.saveAll}" value="Save All"/>
        <h:dataTable value="${adminCampaign.characters}" var="cha">
          <h:column>
            <f:facet name="header">Name</f:facet>${cha.name}
          </h:column>
          <h:column>
            <f:facet name="header">Class</f:facet>${cha.charClass.name}
          </h:column>
          <h:column>
            <f:facet name="header">Type</f:facet>
            <h:selectOneMenu value="${cha.ctype}">
              <f:selectItems value="${adminCampaign.types}"></f:selectItems>
            </h:selectOneMenu>
          </h:column>
          <h:column>
            <f:facet name="header">LVL</f:facet><h:inputText value="${cha.lvl}" size="2"/>
          </h:column>
          <h:column>
            <f:facet name="header">STR</f:facet><h:inputText value="${cha.strength}" size="2"/>
          </h:column>
          <h:column>
            <f:facet name="header">CON</f:facet><h:inputText value="${cha.constitution}" size="2"/>
          </h:column>
          <h:column>
            <f:facet name="header">DEX</f:facet><h:inputText value="${cha.dexterity}" size="2"/>
          </h:column>
          <h:column>
            <f:facet name="header">INT</f:facet><h:inputText value="${cha.intelligence}" size="2"/>
          </h:column>
          <h:column>
            <f:facet name="header">WIS</f:facet><h:inputText value="${cha.wisdom}" size="2"/>
          </h:column>
          <h:column>
            <f:facet name="header">CHA</f:facet><h:inputText value="${cha.charisma}" size="2"/>
          </h:column>
        </h:dataTable>
        <h:commandButton action="${adminCampaign.saveAll}" value="Save All"/>
        <br style="clear: both;"/>
        <h1>Skills</h1>
        <c:forEach items="${adminCampaign.characters}" var="cha">
          <div  style="float: left">
            <h2>${cha.name}</h2>
            <h:dataTable value="${cha.skills}" var="skill">
              <h:column><f:facet name="header">Name</f:facet>${skill.id.skill}</h:column>
              <h:column><f:facet name="header">Ability</f:facet>${skill.ability}</h:column>
              <h:column><f:facet name="header">Bonus</f:facet><h:inputText value="${skill.bonus}" size="2"/></h:column>
            </h:dataTable>
          </div>
        </c:forEach>
        <br style="clear: both;"/>
        <h1>Features and Bonuses</h1>
        <c:forEach items="${adminCampaign.characters}" var="cha">
          <div  style="float: left">
            <h2>${cha.name}</h2>
            <c:forEach items="${cha.bonuses}" var="feature">
              ${feature.id}:${feature.chara}:${feature.name}:${feature.bonus}:${feature.description}
              <h:commandButton value="Remove" action="${adminCampaign.removeFeat(cha, feature)}"/>
              <br/>
            </c:forEach>
          </div>
        </c:forEach>
        <br style="clear: both;"/>
        NEW FEATURE:<br/>
        character:<h:inputText value="${adminCampaign.newfeature.chara}" size="20"/><br/>
        feature name:<h:inputText value="${adminCampaign.newfeature.name}" size="20"/><br/>
        bonus: <h:inputText value="${adminCampaign.newfeature.bonus}" size="20"/><br/>
        description: <h:inputText value="${adminCampaign.newfeature.description}" size="20"/><br/>
        <h:commandButton value="ADD NEW" action="${adminCampaign.addFeature()}"/>

        <br style="clear: both"/>
        <h:commandButton action="${adminCampaign.saveAll}" value="Save All"/>
      </h:form>
    </ui:define>
  </ui:composition>
</html>

