<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
  <c:set value="30" var="gridSize"/>
  <c:set value="3" var="gridPadding"/>
  <h:head>
    <title>Battle map</title>
    <link rel="stylesheet" href="res/ui-custom/css/custom-theme/jquery-ui-1.10.2.custom.css" type="text/css"/> 
    <link rel="stylesheet" href="res/css/styles.css" type="text/css"/> 
    <link rel="stylesheet" href="res/css/map.css" type="text/css"/> 
    <script src="res/js/jquery-1.9.1.js" type="text/javascript" ></script>
    <script src="res/ui-custom/js/jquery-ui-1.10.2.custom.js" type="text/javascript" ></script>
  </h:head>
  <h:body style="border:0; margin: 0; padding: 0">
    <h1>Combat <a href="campaignAdmin.jsf">Campaign</a></h1>
    <h2>Data <a href="combatMapAdmin.jsf">Map</a></h2>
    <div class="separatedBlock">
      <h:form class="inlineForm">
        <h:outputText value="File:"/>
        <h:inputText value="${savegame.combatFilename}"/>
        <h:commandButton value="Save" action="#{savegame.saveCombat()}"/>
      </h:form>
      <h:form class="inlineForm">
        <h:outputText value="File:"/>
        <h:inputText value="${savegame.combatFilename}"/>
        <h:commandButton value="Load" action="#{savegame.loadCombat()}"/>
      </h:form>
    </div>

    <h:form>
      <h:dataTable var="combatant" value="${combatActions.combatants}">
        <h:column>
          <f:facet  name="header"><h:outputLabel value="Name"/></f:facet>
          <h:outputText value="${combatant.name}"/>
        </h:column>
        <h:column>
          <f:facet  name="header"><h:outputLabel value="Type"/></f:facet>
          <h:selectOneMenu value="${combatant.type}">
            <f:selectItems value="${combatActions.typeValues}"/>
          </h:selectOneMenu>
        </h:column>
        <h:column>
          <f:facet  name="header"><h:outputLabel value="HP"/></f:facet>
          <h:inputText value="${combatant.hp}" size="3"/>/<h:inputText value="${combatant.maxHp}" size="3"/>
        </h:column>
        <h:column>
          <f:facet  name="header"><h:outputLabel value="Healing Surges"/></f:facet>
          <h:inputText value="${combatant.healingSurge}" size="2"/>
        </h:column>
        <h:column>
          <f:facet  name="header"><h:outputLabel value="Initiative"/></f:facet>
          <h:inputText value="${combatant.initiative}" size="3"/>
        </h:column>
        <h:column>
          <f:facet  name="header"><h:outputLabel value="Position"/></f:facet>
          <h:inputText value="${combatant.x}" size="3"/>,<h:inputText value="${combatant.y}" size="3"/>
        </h:column>
        <h:column>
          <f:facet  name="header"><h:outputLabel value="Size"/></f:facet>
          <h:inputText value="${combatant.width}" size="2"/>,<h:inputText value="${combatant.height}" size="2"/>
        </h:column>
        <h:column>
          <f:facet  name="header"><h:outputLabel value="Options"/></f:facet>
          <h:commandButton action="#{combatActions.remove()}" value="Remove"/>
        </h:column>
      </h:dataTable>
      <h:commandButton action="#{combatActions.update}" value="update"/>
    </h:form>
    <h:form>
      <h:panelGrid columns="2">
        <h:outputLabel value="Type"/>
        <h:selectOneMenu value="${combatActionParams.newCombatant.type}">
          <f:selectItems value="${combatActions.typeValues}"/>
        </h:selectOneMenu>
        <h:outputLabel value="Name"/>
        <h:inputText value="${combatActionParams.newCombatant.name}"/>
        <h:outputLabel value="Small"/>
        <h:inputText value="${combatActionParams.newCombatant.small}"/>
        <h:outputLabel value="Medium"/>
        <h:inputText value="${combatActionParams.newCombatant.medium}"/>
        <h:outputLabel value="HP"/>
        <h:panelGroup>
          <h:inputText value="${combatActionParams.newCombatant.hp}" size="3"/>,<h:inputText value="${combatActionParams.newCombatant.maxHp}" size="3"/>
        </h:panelGroup>
        <h:outputLabel value="Healing Surges"/>
        <h:inputText value="${combatActionParams.newCombatant.healingSurge}" size="3"/>
        <h:outputLabel value="Initiative"/>
        <h:inputText value="${combatActionParams.newCombatant.initiative}" size="3"/>
        <h:outputLabel value="Position"/>
        <h:panelGroup>
          <h:inputText value="${combatActionParams.newCombatant.x}" size="3"/>,<h:inputText value="${combatActionParams.newCombatant.y}" size="3"/>
        </h:panelGroup>
        <h:outputLabel value="Width"/>
        <h:panelGroup>
          <h:inputText value="${combatActionParams.newCombatant.width}" size="3"/>,<h:inputText value="${combatActionParams.newCombatant.height}" size="3"/>
        </h:panelGroup>
      </h:panelGrid>
      <h:commandButton value="Add" action="#{combatActions.create}"/>
    </h:form>
  </h:body>
</html>

